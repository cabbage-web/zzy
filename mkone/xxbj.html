<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>赛事信息修改</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563EB',
                        secondary: '#059669',
                        danger: '#DC2626',
                        neutral: '#4B5563'
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .form-focus-effect {
                @apply focus:ring-2 focus:ring-primary/30 focus:border-primary focus:outline-none;
            }
            .card-shadow {
                @apply shadow-lg hover:shadow-xl transition-shadow duration-300;
            }
            .input-transition {
                @apply transition-all duration-200 ease-in-out;
            }
            .btn-hover {
                @apply hover:-translate-y-0.5 active:translate-y-0 transition-transform duration-200;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen font-inter text-gray-800 p-4 md:p-6 flex items-center justify-center">
    <!-- 页面标题 -->
    <div class="absolute top-6 left-0 right-0 text-center">
        <h1 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-primary">
            <i class="fa fa-trophy mr-2"></i>赛事信息管理系统
        </h1>
        <p class="text-gray-500 mt-1">请填写以下信息完成修改</p>
    </div>
    
    <!-- 表单卡片 -->
    <div class="w-full max-w-md mt-16 bg-white rounded-2xl card-shadow overflow-hidden">
        <div class="p-6 md:p-8">
            <form id="eventForm" class="space-y-6">
                <!-- ID输入框 -->
                <div class="form-group">
                    <label for="id" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-id-card-o text-primary mr-2"></i>ID (5位数字)
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="id" 
                            name="id" 
                            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect pr-10" 
                            placeholder="例如: 12345"
                            maxlength="5"
                            required
                        >
                        <span id="idStatus" class="absolute right-3 top-1/2 -translate-y-1/2 hidden">
                            <i class="fa fa-check-circle text-secondary"></i>
                        </span>
                    </div>
                    <p id="idError" class="text-danger text-xs mt-1.5 hidden">
                        <i class="fa fa-exclamation-circle mr-1"></i>请输入有效的5位数字ID
                    </p>
                </div>
                
                <!-- 名字输入框 -->
                <div class="form-group">
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-user text-primary mr-2"></i>姓名
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect" 
                        placeholder="请输入姓名"
                        required
                    >
                </div>
                
                <!-- 国家输入框 -->
                <div class="form-group">
                    <label for="country" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-flag text-primary mr-2"></i>国家/地区
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="country" 
                        name="country" 
                        class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect" 
                        placeholder="请输入国家或地区"
                        required
                    >
                </div>
                
                <!-- 时间输入框 -->
                <div class="form-group">
                    <label for="time" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-clock-o text-primary mr-2"></i>赛事时间
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <input 
                        type="datetime-local" 
                        id="time" 
                        name="time" 
                        class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect"
                        required
                    >
                </div>
                
                <!-- 赛事输入框 -->
                <div class="form-group">
                    <label for="event" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-gamepad text-primary mr-2"></i>赛事名称
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="event" 
                        name="event" 
                        class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect" 
                        placeholder="请输入修改后的赛事名称"
                        required
                    >
                </div>
                
                <!-- 赛事性质选择框 -->
                <div class="form-group">
                    <label for="eventType" class="block text-sm font-medium text-gray-700 mb-1.5 flex items-center">
                        <i class="fa fa-list-alt text-primary mr-2"></i>赛事性质
                        <span class="text-danger text-xs ml-1">*</span>
                    </label>
                    <select 
                        id="eventType" 
                        name="eventType" 
                        class="w-full px-4 py-2.5 border border-gray-300 rounded-lg input-transition form-focus-effect bg-white"
                        required
                    >
                        <option value="" disabled selected>请选择修改后的赛事性质</option>
                        <option value="international">决赛</option>
                        <option value="national">半决赛</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                
                <!-- 提交按钮 -->
                <div class="pt-2">
                    <button 
                        type="submit" 
                        class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center btn-hover">
                        <i class="fa fa-check-circle mr-2"></i>提交信息
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- 成功提交弹窗 -->
    <div id="successModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="bg-white rounded-xl p-6 max-w-md w-full transform scale-95 transition-transform duration-300">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4 mx-auto">
                    <i class="fa fa-check text-2xl text-secondary"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">提交成功</h3>
                <p class="text-gray-600 mb-6">您的赛事信息已成功提交</p>
                <div id="submittedData" class="bg-gray-50 rounded-lg p-4 text-left text-sm mb-6">
                    <!-- 提交的数据将显示在这里 -->
                </div>
                <button id="closeModal" class="px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors btn-hover">
                    完成
                </button>
            </div>
        </div>
    </div>

    <script>
        // 获取DOM元素
        const form = document.getElementById('eventForm');
        const idInput = document.getElementById('id');
        const idError = document.getElementById('idError');
        const idStatus = document.getElementById('idStatus');
        const successModal = document.getElementById('successModal');
        const closeModal = document.getElementById('closeModal');
        const submittedData = document.getElementById('submittedData');
        
        // ID验证正则表达式
        const idRegex = /^\d{5}$/;
        
        // ID输入实时验证
        idInput.addEventListener('input', function() {
            const idValue = this.value;
            // 只保留数字
            if (!/^\d*$/.test(idValue)) {
                this.value = idValue.replace(/\D/g, '');
                return;
            }
            
            // 验证格式
            const isValid = idRegex.test(idValue);
            
            if (idValue.length > 0) {
                if (!isValid) {
                    idError.classList.remove('hidden');
                    idStatus.classList.add('hidden');
                    this.classList.add('border-danger');
                    this.classList.remove('border-secondary', 'border-gray-300');
                } else {
                    idError.classList.add('hidden');
                    idStatus.classList.remove('hidden');
                    this.classList.remove('border-danger', 'border-gray-300');
                    this.classList.add('border-secondary');
                }
            } else {
                // 清空状态
                idError.classList.add('hidden');
                idStatus.classList.add('hidden');
                this.classList.remove('border-danger', 'border-secondary');
                this.classList.add('border-gray-300');
            }
        });
        
        // 表单提交处理
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 验证ID
            const idValue = idInput.value;
            if (!idRegex.test(idValue)) {
                idError.classList.remove('hidden');
                idInput.classList.add('border-danger');
                idInput.focus();
                // 添加抖动动画
                idInput.classList.add('animate-shake');
                setTimeout(() => idInput.classList.remove('animate-shake'), 500);
                return;
            }
            
            // 收集表单数据
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // 显示提交的数据
            displaySubmittedData(data);
            
            // 显示成功弹窗
            successModal.classList.remove('pointer-events-none');
            setTimeout(() => {
                successModal.classList.add('opacity-100');
                successModal.querySelector('div').classList.remove('scale-95');
                successModal.querySelector('div').classList.add('scale-100');
            }, 10);
        });
        
        // 显示提交的数据
        function displaySubmittedData(data) {
            let html = '';
            const labels = {
                'id': 'ID',
                'name': '姓名',
                'country': '国家/地区',
                'time': '赛事时间',
                'event': '赛事名称',
                'eventType': '赛事性质'
            };
            
            // 转换赛事性质为中文
            const eventTypeMap = {
                'international': '国际赛事',
                'national': '全国赛事',
                'provincial': '省级赛事',
                'city': '市级赛事',
                'other': '其他'
            };
            data.eventType = eventTypeMap[data.eventType] || data.eventType;
            
            // 格式化时间
            if (data.time) {
                const date = new Date(data.time);
                data.time = date.toLocaleString('zh-CN', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
            
            for (const key in data) {
                html += `<div class="mb-1.5"><span class="font-medium text-gray-700">${labels[key]}:</span> ${data[key]}</div>`;
            }
            submittedData.innerHTML = html;
        }
        
        // 关闭成功弹窗
        closeModal.addEventListener('click', function() {
            successModal.classList.remove('opacity-100');
            successModal.querySelector('div').classList.remove('scale-100');
            successModal.querySelector('div').classList.add('scale-95');
            
            setTimeout(() => {
                successModal.classList.add('pointer-events-none');
                form.reset();
                // 重置ID输入框样式
                idInput.classList.remove('border-secondary', 'border-danger');
                idInput.classList.add('border-gray-300');
                idStatus.classList.add('hidden');
            }, 300);
        });
        
        // 点击弹窗外部关闭
        successModal.addEventListener('click', function(e) {
            if (e.target === successModal) {
                closeModal.click();
            }
        });
    </script>
</body>
</html>
